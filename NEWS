RELEASE NOTES for Miredo
version 0.5.0 (beta version)
=============================
$Id$

  This is an early release of the program. It is not finished and might not
work properly. It is not suited for use in production environment.
Users of previous releases are encouraged to upgrade, as some issues were
addressed in this new release.

IMPORTANT NOTE for old users:
------------------------------
  As of version 0.4.0, Miredo uses a configuration file instead of a lot of
command line options. You cannot install the newer version and expect it to
work without further configuration.

  There are no known issues at the moment, but missing features. Please
report any problem by email at address :
rdenis (at) simphalempin (dot) com
Thanks for your help.

  You can find major changes since version 0.1.0 below. For more general
informations on this program, see README. For syntax details and
changes, run 'miredo -h' to get help. For detailled internal changes, see
ChangeLog.

=============================================================================
BETA RELEASE 0.5.1 : ??????????????????????

# Fix use of POSIX capabilities with miredo-server.
# Allow running miredo as root (if and only if explicitly enabled through
  ./configure).

=============================================================================
BETA RELEASE 0.5.0 : Major feature enhancement

# Fix for infinite loop in client when processing advertisement from server
  (also backported in release 0.4.3).
# Finally implemented correct Teredo maintenance procedure / qualification
  and connectivity loss detection (which is now quicker).
# Regenerate server authentication token ("nonce") every hour for increased
  security.
# Limit ICMPv6 Echo Requests sent to 3 per peer every 30 seconds.
# Safe work-around to reach peers that rejects ICMPv6 Echo Reques.ts
# Support for MTU setting (in server and relay),
  clients now gets MTU setting from server.
# Support for changing Teredo server's secondary address (ServerAddress2
  and ServerBindAddress2 directives).
# Fix a minor race condition when the Teredo tunnel is brought up.

# Teredo server support separated : it is now provided by a separate binary
  "miredo-server", that reads its configuration from "miredo-server.conf".
  Additionnally, the Teredo server now use raw IPv6 socket rather than the
  Teredo tunneling interface, so that one doesn't need to enabled IPv6
  forwarding on the Teredo server (and it is more portable).

# Rudimentary Autopackage support (autopackage being still buggy).

=============================================================================
BETA RELEASE 0.4.2 : Major bugfixes, minor feature enhancement

# Fixed connectivity issue with restricted Teredo clients/relays.
# Re-implemented connectivity loss detection. The older version was removed
  because it would not tolerate any packet loss.
# Support for overriding the server specified in miredo.conf from the
  command line.
# Fixed handling by client of unauthenticated server responses.
# Some clean up.

=============================================================================
BETA RELEASE 0.4.1 : Minor bugfixes

# Fixed privileges separation issue on Linux with grsecurity patch.
# Work-around a Linux kernel panic bug when bringing an interface down.
# Fixed use of "RelayType disabled" - Miredo would always fail in that mode.
# Improved sample configuration file comments.
# Print logging information on the console with option -f (foreground run).
# Complain when no sever was specified in client mode.

=============================================================================
BETA RELEASE 0.4.0 : Major feature enhancement

# Configuration file :
  Miredo now reads its settings from a configuration file, miredo.conf,
  instead of many command line options. A sample commented
  configuration is provided in misc/miredo.conf-dist and installed in
  /usr/local/etc/miredo.conf-dist (unless you use another installation
  prefix).

# Support for disabling components at build-time :
  That helps producing a smaller executable. In particular, you may
  consider running "./configure --disable-teredo-server" as very few
  people really use the Teredo server component.
  "--disable-teredo-client" is also provided if you only want to build
  a Teredo relay.

# Zero-memcpy, performance improvement :
  Miredo will no longer perform any memcpy on forwarded IPv6 packets
  payload, so as to improve processing speed a little bit.

# Automatic and easy-to-setup chroot environment :
  Miredo only needs an empty directory to chroot. It is created by
  make install and automatically used.

# PID file moved: it is now located in /usr/local/var/run/miredo.pid by
  default.

# Support for server only mode (no longer have to run a relay as well).

# Support for changing syslogd facility used via miredo.conf.

# Cleaned up server implementation.

# Fixed packet source/destination IPv6 addresses checks in client/relay.

=============================================================================
BETA RELEASE 0.3.2 : Minor bugfixes

# Configure option --enable-pidfile=<path> to change the pidfile path
  (or --disable-pidfile to disable pidfile generation)

# Safer default configuration : Miredo uses the "nobody" user which
  should exists on any system, instead of root by default.

# FreeBSD compilation fixes.

=============================================================================
BETA RELEASE 0.3.1 : Minor feature enhancement

# POSIX.1e capabilities support :
  If you have libcap on your system, miredo will now use POSIX.1e
  capabilities. That should reduce the possible impact of a hypothetic
  compromise of the program.

# Gettext internationalization support :
  Miredo can now be localized in other languages beside English.
  A French translation is provided. Other translations will be included
  upon submission by volunteer translators.

# PID file:
  Miredo can low create a PID file as /var/run/miredo/miredo.pid which can
  be useful to make initscripts.

=============================================================================
BETA RELEASE 0.3.0 : Major feature enhancement

# Proper queueing of packets :
  That should speed up connectivity a bit, and fix various connectivity
  issues most particularly with, though not limited to, Teredo clients.

# Automatically select an available UDP port for relay and client.
  You can use the '-p' command line option to specify a particular port
  number.

# Automatically add a default route through the Teredo tunneling interface
  when running Miredo as a Teredo client.
  
# Fixed a bug that may prevent the client from working correctly.

# Compilation fix for the Darwin kernel (Mac OS X).
  Miredo needs a separate tunnel device driver to run on Darwin; it can
  be found there: http://chrisp.de/en/projects/tunnel.html

# Untested support for OpenBSD, NetBSD and Darwin. In any case, routing
  does not work on Darwin, and the program might not compile on OpenBSD
  and NetBSD at all (help appreciated).

=============================================================================
BETA RELEASE 0.2.2 : Minor portability fixes

# Support for binding the relay/client to a specific IPv4 address
  with the -b (--bind) command line option.
# Compilation fix for some old GNU libc.

=============================================================================
BETA RELEASE 0.2.1 : Major bugfixes

# Fixed a segmentation fault in Teredo server code.
# Fixed client-to-client connectivity with Microsoft and ng_teredo servers.
# Various minor client timing problem fixed.

=============================================================================
BETA RELEASE 0.2.0 : Major feature enhancement

# Ability to run as a Teredo client:
    Miredo can now server as a Teredo client. It will set up its Teredo
  address automatically from a server then forward packets. However, you
  have to add a default route to the Teredo tunneling interface if you want
  to use Miredo to access the IPv6 Internet as a whole, instead of only other
  Teredo clients. Of course, a server name to must be specified for the
  client mode to work.

# Ability to run behind a restricted NAT device:
    Miredo's Teredo relaying functions should now work fine from behind a
  restricted NAT device (such as most Linux/Netfilter-based NAT). If you are
  not behind a NAT or if you are behind a cone NAT, you can use command line
  option "-C" for optimization.

=============================================================================
ALPHA RELEASE 0.1.1 : Major feature enhancement

# Partial support for FreeBSD:
    Miredo should compile fine on FreeBSD, however it was not yet tested on
  that platform. Feedback is most welcome.

# Ability to disable server functionality:
    The server is now disabled by default.

# Ability to change the Teredo prefix (with -P).

# Ability to change the Teredo relay port (with -p).

# Automatic Teredo tunneling interface configuration:
    Miredo will automatically set the interface local IPv6 address, and set
  up an IPv6 route toward Teredo clients through the tunneling interface.
  Additionnaly, the interface MTU will be set to 1280 as suggested by the
  latest Teredo draft specification, and is automatically brought up and
  running.

# Possible vulnerabilities impact mitigation:
    Miredo will drop its root privileges as soon as possible, setuid to
  "miredo" user (which you should create, or change at run time), setgid,
  and chroot. For chroot to work, some manual setup is needed.

# Background run:
    Miredo will automatically detach and run in the background as a "daemon".

# Automatic relay address configuration:
    One no longer has to specify the relay IPv4 and IPv6 addresses. This is
  no longer needed.

# Signals handling: miredo can now be terminated cleanly.

# Minor compliance update for Teredo draft 02, various minor bugfixes.

# Added a manpage.

# Build-time support for Intel C++ Compiler 8.0.
=============================================================================

